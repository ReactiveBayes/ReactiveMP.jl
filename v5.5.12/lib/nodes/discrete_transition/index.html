<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Discrete Transition · ReactiveMP.jl</title><meta name="title" content="Discrete Transition · ReactiveMP.jl"/><meta property="og:title" content="Discrete Transition · ReactiveMP.jl"/><meta property="twitter:title" content="Discrete Transition · ReactiveMP.jl"/><meta name="description" content="Documentation for ReactiveMP.jl."/><meta property="og:description" content="Documentation for ReactiveMP.jl."/><meta property="twitter:description" content="Documentation for ReactiveMP.jl."/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">ReactiveMP.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Introduction</a></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../">Factor nodes</a></li><li><a class="tocitem" href="../../message/">Messages</a></li><li><a class="tocitem" href="../../marginal/">Marginals</a></li><li><a class="tocitem" href="../../rules/">Message update rules</a></li><li><a class="tocitem" href="../../helpers/">Helper utils</a></li><li><a class="tocitem" href="../../algebra/">Algebra utils</a></li><li><input class="collapse-toggle" id="menuitem-2-7" type="checkbox" checked/><label class="tocitem" for="menuitem-2-7"><span class="docs-label">Specific factor nodes</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../delta/">Delta</a></li><li><a class="tocitem" href="../flow/">Flow</a></li><li><a class="tocitem" href="../bifm/">BIFM</a></li><li><a class="tocitem" href="../logical/">Logical</a></li><li class="is-active"><a class="tocitem" href>Discrete Transition</a></li><li><a class="tocitem" href="../ctransition/">Continuous transition</a></li><li><a class="tocitem" href="../ar/">Autoregressive</a></li><li><a class="tocitem" href="../binomial_polya/">BinomialPolya</a></li><li><a class="tocitem" href="../multinomial_polya/">MultinomialPolya</a></li></ul></li></ul></li><li><span class="tocitem">Custom functionality</span><ul><li><a class="tocitem" href="../../../custom/custom-functional-form/">Custom functional form</a></li><li><a class="tocitem" href="../../../custom/custom-addons/">Custom addons</a></li></ul></li><li><span class="tocitem">Extra</span><ul><li><a class="tocitem" href="../../../extra/contributing/">Contributing</a></li><li><a class="tocitem" href="../../../extra/extensions/">Extensions</a></li><li><a class="tocitem" href="../../../extra/methods/">Exported methods</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Library</a></li><li><a class="is-disabled">Specific factor nodes</a></li><li class="is-active"><a href>Discrete Transition</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Discrete Transition</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ReactiveBayes/ReactiveMP.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/main/docs/src/lib/nodes/discrete_transition.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.discrete_transition_decode_marginal" href="#ReactiveMP.discrete_transition_decode_marginal"><code>ReactiveMP.discrete_transition_decode_marginal</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">discrete_transition_decode_marginal(marginal_name::String, marginal::Contingency{T, &lt;:AbstractArray{T, N}}) where {T, N}</code></pre><p>Decode the marginal distribution into a tuple of dimensions and a probability vector.</p><p><strong>Arguments</strong></p><ul><li><code>marginal_name</code>: The name of the marginal distribution.</li><li><code>marginal</code>: The marginal distribution.</li></ul><p>For example, if the marginal distribution is &quot;in<em>t1</em>t5&quot;, we know that &quot;in&quot; corresponds to dimension 2, and &quot;t1&quot; and &quot;t5&quot; correspond to dimensions 3 and 7 of the contingency tensor.  Therefore, the function will return <code>(2, 3, 7)</code> and the contingency tensor <code>marginal.p</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/be9acdcf28f8a2d8c2b1922c3caea8da9027866e/src/rules/discrete_transition/categoricals.jl#L59-L71">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.discrete_transition_marginal_rule" href="#ReactiveMP.discrete_transition_marginal_rule"><code>ReactiveMP.discrete_transition_marginal_rule</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">discrete_transition_marginal_rule(message_names, messages, marginals_names, marginals, q_a)</code></pre><p>Compute the marginal for one of the Categorical interfaces of the <code>DiscreteTransition</code> node. This function is similar to <code>discrete_transition_structured_message_rule</code> but uses <code>multiply_dimensions</code> instead of <code>sum_out_dimensions</code> for the messages.</p><p><strong>Arguments</strong></p><ul><li><code>message_names</code>: The names of the incoming messages. These are the variables in the same factorization cluster as the variable over which we are computing the message.</li><li><code>messages</code>: The incoming messages. These are guaranteed to be either <code>Categorical</code>, <code>Bernoulli</code> or <code>PointMass</code> distributions.</li><li><code>marginals_names</code>: The names of the other marginal distributions attached to the <code>DiscreteTransition</code> node. These marginal distributions are not in the same factorization cluster as the variable over which we are computing the message.</li><li><code>marginals</code>: The incoming marginals. These are guaranteed to be either <code>Contingency</code>, <code>Categorical</code>, <code>Bernoulli</code> or <code>PointMass</code> distributions.</li><li><code>q_a</code>: The marginal distribution over the transition tensor.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/be9acdcf28f8a2d8c2b1922c3caea8da9027866e/src/rules/discrete_transition/marginals.jl#L25-L37">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.discrete_transition_process_marginals" href="#ReactiveMP.discrete_transition_process_marginals"><code>ReactiveMP.discrete_transition_process_marginals</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">discrete_transition_process_marginals(e_log_a, marginals_names, marginals)</code></pre><p>Process the marginals to update the expected log transition matrix. This is a common operation used by both <code>discrete_transition_structured_message_rule</code> and <code>discrete_transition_marginal_rule</code>.</p><p><strong>Arguments</strong></p><ul><li><code>e_log_a</code>: The expected log of the transition matrix.</li><li><code>marginals_names</code>: The names of the marginal distributions.</li><li><code>marginals</code>: The marginal distributions.</li></ul><p><strong>Returns</strong></p><ul><li>The updated expected log transition matrix.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/be9acdcf28f8a2d8c2b1922c3caea8da9027866e/src/rules/discrete_transition/categoricals.jl#L90-L103">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.multiply_dimensions!" href="#ReactiveMP.multiply_dimensions!"><code>ReactiveMP.multiply_dimensions!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">multiply_dimensions(tensor::AbstractArray{T, M}, dims::NTuple{N, Int}, values::AbstractArray{T, N}) where {T, M, N}</code></pre><p>Multiply the tensor with the values along the specified dimensions. This is similar to <code>sum_out_dimensions</code> but doesn&#39;t sum the result, only performs the elementwise multiplication.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/be9acdcf28f8a2d8c2b1922c3caea8da9027866e/src/rules/discrete_transition/categoricals.jl#L12-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.sum_out_dimensions" href="#ReactiveMP.sum_out_dimensions"><code>ReactiveMP.sum_out_dimensions</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sum_out_dimensions(tensor::AbstractArray{T, M}, dims::NTuple{N, Int}, values::AbstractArray{T, N}) where {T, M, N}</code></pre><p>Sum out the dimensions of the tensor that are not part of the marginal distribution. This is a generalization of an inner product, where we also figure out which dimensions of the tensor align with the dimensions of <code>values</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/be9acdcf28f8a2d8c2b1922c3caea8da9027866e/src/rules/discrete_transition/categoricals.jl#L32-L36">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.discrete_transition_process_messages" href="#ReactiveMP.discrete_transition_process_messages"><code>ReactiveMP.discrete_transition_process_messages</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">discrete_transition_process_messages(e_log_a, message_names, messages, callback)</code></pre><p>Process the messages to update the expected log transition matrix. This is a common operation used by both <code>discrete_transition_structured_message_rule</code> and <code>discrete_transition_marginal_rule</code>. The <code>callback</code> function is used to update the expected log transition matrix.  This argument toggles between marginalising out a variable (for messages) and computing a joint marginal distribution.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/be9acdcf28f8a2d8c2b1922c3caea8da9027866e/src/rules/discrete_transition/categoricals.jl#L122-L128">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.discrete_transition_structured_message_rule" href="#ReactiveMP.discrete_transition_structured_message_rule"><code>ReactiveMP.discrete_transition_structured_message_rule</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">discrete_transition_structured_message_rule(message_names, messages, marginals_names, marginals, q_a)</code></pre><p>Compute the message for one of the Categorical interfaces of the <code>DiscreteTransition</code> node. This function      1. Computes the expected log of the transition matrix <code>e_log_a</code>     2. For every incoming marginal distribution, it determines which dimension of the contingency tensor it corresponds to.     3. It then uses <code>sum_out_dimensions</code> to to compute the inner product of <code>e_log_a</code> with the marginal distribution along the specified dimension.     4. The result of this is the VMP message, which we have to exponentiate and multiply with the incoming messages.     5. The result is then normalized to sum to 1.</p><p><strong>Arguments</strong></p><ul><li><code>message_names</code>: The names of the incoming messages. These are the variables in the same factorization cluster as the variable over which we are computing the message.</li><li><code>messages</code>: The incoming messages. These are guaranteed to be either <code>Categorical</code>, <code>Bernoulli</code> or <code>PointMass</code> distributions.</li><li><code>marginals_names</code>: The names of the other marginal distributions attached to the <code>DiscreteTransition</code> node. These marginal distributions are not in the same factorization cluster as the variable over which we are computing the message.</li><li><code>marginals</code>: The incoming marginals. These are guaranteed to be either <code>Contingency</code>, <code>Categorical</code>, <code>Bernoulli</code> or <code>PointMass</code> distributions.</li><li><code>q_a</code>: The marginal distribution over the transition tensor.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/be9acdcf28f8a2d8c2b1922c3caea8da9027866e/src/rules/discrete_transition/categoricals.jl#L142-L158">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../logical/">« Logical</a><a class="docs-footer-nextpage" href="../ctransition/">Continuous transition »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Thursday 11 September 2025 15:18">Thursday 11 September 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
