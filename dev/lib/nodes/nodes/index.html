<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Overview · ReactiveMP.jl</title><meta name="title" content="Overview · ReactiveMP.jl"/><meta property="og:title" content="Overview · ReactiveMP.jl"/><meta property="twitter:title" content="Overview · ReactiveMP.jl"/><meta name="description" content="Documentation for ReactiveMP.jl."/><meta property="og:description" content="Documentation for ReactiveMP.jl."/><meta property="twitter:description" content="Documentation for ReactiveMP.jl."/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">ReactiveMP.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Introduction</a></li><li><span class="tocitem">Custom functionality</span><ul><li><a class="tocitem" href="../../../custom/custom-functional-form/">Custom functional form</a></li><li><a class="tocitem" href="../../../custom/custom-addons/">Custom addons</a></li></ul></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../../message/">Messages</a></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox" checked/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Factor nodes</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Overview</a><ul class="internal"><li><a class="tocitem" href="#lib-custom-node"><span>Adding a custom node</span></a></li><li><a class="tocitem" href="#lib-node-types"><span>Node types</span></a></li><li><a class="tocitem" href="#lib-node-functional-dependencies-pipeline"><span>Node functional dependencies pipeline</span></a></li><li><a class="tocitem" href="#lib-node-traits"><span>Node traits</span></a></li></ul></li><li><a class="tocitem" href="../flow/">Flow</a></li></ul></li><li><a class="tocitem" href="../../rules/rules/">Message update rules</a></li><li><a class="tocitem" href="../../helpers/">Helper utils</a></li><li><a class="tocitem" href="../../algebra/common/">Algebra utils</a></li><li><a class="tocitem" href="../../methods/">Exported methods</a></li></ul></li><li><a class="tocitem" href="../../../extra/contributing/">Contributing</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Library</a></li><li><a class="is-disabled">Factor nodes</a></li><li class="is-active"><a href>Overview</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Overview</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/biaslab/ReactiveMP.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/biaslab/ReactiveMP.jl/blob/main/docs/src/lib/nodes/nodes.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="lib-node"><a class="docs-heading-anchor" href="#lib-node">Nodes implementation</a><a id="lib-node-1"></a><a class="docs-heading-anchor-permalink" href="#lib-node" title="Permalink"></a></h1><p>In the message passing framework, one of the most important concepts is a factor node. A factor node represents a local function in a factorised representation of a generative model.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>To quickly check the list of all available factor nodes that can be used in the model specification language, call <code>?make_node</code> or <code>Base.doc(make_node)</code>.</p></div></div><h2 id="lib-custom-node"><a class="docs-heading-anchor" href="#lib-custom-node">Adding a custom node</a><a id="lib-custom-node-1"></a><a class="docs-heading-anchor-permalink" href="#lib-custom-node" title="Permalink"></a></h2><p><code>ReactiveMP.jl</code> exports the <code>@node</code> macro that allows for quick definition of a factor node with a <strong>fixed</strong> number of edges. The interface is the following:</p><pre><code class="language-julia hljs">struct MyNewCustomNode end

@node MyNewCustomNode   Stochastic         [ x, y, z ]
#     ^^^^^^^^^^^^^^^   ^^^^^^^^^^^^^      ^^^^^^^^^^^
#     Node&#39;s tag/name   Node&#39;s type        A fixed set of edges
#                       Another possible   The very first edge (in this example `x`) is considered
#                       value is           to be the output of the node
#                       `Deterministic`</code></pre><p>This expression registers a new node that can be used with the inference engine. Note howeve, that the <code>@node</code> macro does not generate any message passing update rules. These must be defined using the <code>@rule</code> macro.</p><h2 id="lib-node-types"><a class="docs-heading-anchor" href="#lib-node-types">Node types</a><a id="lib-node-types-1"></a><a class="docs-heading-anchor-permalink" href="#lib-node-types" title="Permalink"></a></h2><p>We distinguish different types of factor nodes in order to have better control over Bethe Free Energy computation. Each factor node has either the <a href="#ReactiveMP.Deterministic"><code>Deterministic</code></a> or <a href="#ReactiveMP.Stochastic"><code>Stochastic</code></a> functional form type.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.Deterministic" href="#ReactiveMP.Deterministic"><code>ReactiveMP.Deterministic</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Deterministic</code></pre><p><code>Deterministic</code> object used to parametrize factor node object with determinstic type of relationship between variables.</p><p>See also: <a href="#ReactiveMP.Stochastic"><code>Stochastic</code></a>, <a href="#ReactiveMP.isdeterministic"><code>isdeterministic</code></a>, <a href="#ReactiveMP.isstochastic"><code>isstochastic</code></a>, <a href="#ReactiveMP.sdtype"><code>sdtype</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/biaslab/ReactiveMP.jl/blob/6cff9c77ca9bf55a0791c6c77ad7f4f79165f702/src/node.jl#L51-L57">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.Stochastic" href="#ReactiveMP.Stochastic"><code>ReactiveMP.Stochastic</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Stochastic</code></pre><p><code>Stochastic</code> object used to parametrize factor node object with stochastic type of relationship between variables.</p><p>See also: <a href="#ReactiveMP.Deterministic"><code>Deterministic</code></a>, <a href="#ReactiveMP.isdeterministic"><code>isdeterministic</code></a>, <a href="#ReactiveMP.isstochastic"><code>isstochastic</code></a>, <a href="#ReactiveMP.sdtype"><code>sdtype</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/biaslab/ReactiveMP.jl/blob/6cff9c77ca9bf55a0791c6c77ad7f4f79165f702/src/node.jl#L60-L66">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.isdeterministic" href="#ReactiveMP.isdeterministic"><code>ReactiveMP.isdeterministic</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">isdeterministic(node)</code></pre><p>Function used to check if factor node object is deterministic or not. Returns true or false.</p><p>See also: <a href="#ReactiveMP.Deterministic"><code>Deterministic</code></a>, <a href="#ReactiveMP.Stochastic"><code>Stochastic</code></a>, <a href="#ReactiveMP.isstochastic"><code>isstochastic</code></a>, <a href="#ReactiveMP.sdtype"><code>sdtype</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/biaslab/ReactiveMP.jl/blob/6cff9c77ca9bf55a0791c6c77ad7f4f79165f702/src/node.jl#L69-L75">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.isstochastic" href="#ReactiveMP.isstochastic"><code>ReactiveMP.isstochastic</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">isstochastic(node)</code></pre><p>Function used to check if factor node object is stochastic or not. Returns true or false.</p><p>See also: <a href="#ReactiveMP.Deterministic"><code>Deterministic</code></a>, <a href="#ReactiveMP.Stochastic"><code>Stochastic</code></a>, <a href="#ReactiveMP.isdeterministic"><code>isdeterministic</code></a>, <a href="#ReactiveMP.sdtype"><code>sdtype</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/biaslab/ReactiveMP.jl/blob/6cff9c77ca9bf55a0791c6c77ad7f4f79165f702/src/node.jl#L78-L84">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.sdtype" href="#ReactiveMP.sdtype"><code>ReactiveMP.sdtype</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">sdtype(object)</code></pre><p>Returns either <code>Deterministic</code> or <code>Stochastic</code> for a given object (if defined).</p><p>See also: <a href="#ReactiveMP.Deterministic"><code>Deterministic</code></a>, <a href="#ReactiveMP.Stochastic"><code>Stochastic</code></a>, <a href="#ReactiveMP.isdeterministic"><code>isdeterministic</code></a>, <a href="#ReactiveMP.isstochastic"><code>isstochastic</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/biaslab/ReactiveMP.jl/blob/6cff9c77ca9bf55a0791c6c77ad7f4f79165f702/src/node.jl#L97-L103">source</a></section></article><p>For example the <code>+</code> node has the <a href="#ReactiveMP.Deterministic"><code>Deterministic</code></a> type:</p><pre><code class="language-julia hljs">plus_node = make_node(+)

println(&quot;Is `+` node deterministic: &quot;, isdeterministic(plus_node))
println(&quot;Is `+` node stochastic: &quot;, isstochastic(plus_node))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Is `+` node deterministic: true
Is `+` node stochastic: false</code></pre><p>On the other hand, the <code>Bernoulli</code> node has the <a href="#ReactiveMP.Stochastic"><code>Stochastic</code></a> type:</p><pre><code class="language-julia hljs">bernoulli_node = make_node(Bernoulli)

println(&quot;Is `Bernoulli` node deterministic: &quot;, isdeterministic(bernoulli_node))
println(&quot;Is `Bernoulli` node stochastic: &quot;, isstochastic(bernoulli_node))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Is `Bernoulli` node deterministic: false
Is `Bernoulli` node stochastic: true</code></pre><p>To get an actual instance of the type object we use <a href="#ReactiveMP.sdtype"><code>sdtype</code></a> function:</p><pre><code class="language-julia hljs">println(&quot;sdtype() of `+` node is &quot;, sdtype(plus_node))
println(&quot;sdtype() of `Bernoulli` node is &quot;, sdtype(bernoulli_node))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">sdtype() of `+` node is Deterministic()
sdtype() of `Bernoulli` node is Stochastic()</code></pre><h2 id="lib-node-functional-dependencies-pipeline"><a class="docs-heading-anchor" href="#lib-node-functional-dependencies-pipeline">Node functional dependencies pipeline</a><a id="lib-node-functional-dependencies-pipeline-1"></a><a class="docs-heading-anchor-permalink" href="#lib-node-functional-dependencies-pipeline" title="Permalink"></a></h2><p>The generic implementation of factor nodes in ReactiveMP supports custom functional dependency pipelines. Briefly, the <strong>functional dependencies pipeline</strong> defines what dependencies are need to compute a single message. As an example, consider the belief-propagation message update equation for a factor node <span>$f$</span> with three edges: <span>$x$</span>, <span>$y$</span> and <span>$z$</span>:</p><p class="math-container">\[\mu(x) = \int \mu(y) \mu(z) f(x, y, z) \mathrm{d}y \mathrm{d}z\]</p><p>Here we see that in the standard setting for the belief-propagation message out of edge <span>$x$</span>, we need only messages from the edges <span>$y$</span> and <span>$z$</span>. In contrast, consider the variational message update rule equation with mean-field assumption:</p><p class="math-container">\[\mu(x) = \exp \int q(y) q(z) \log f(x, y, z) \mathrm{d}y \mathrm{d}z\]</p><p>We see that in this setting, we do not need messages <span>$\mu(y)$</span> and <span>$\mu(z)$</span>, but only the marginals <span>$q(y)$</span> and <span>$q(z)$</span>. The purpose of a <strong>functional dependencies pipeline</strong> is to determine functional dependencies (a set of messages or marginals) that are needed to compute a single message. By default, <code>ReactiveMP.jl</code> uses so-called <code>DefaultFunctionalDependencies</code> that correctly implements belief-propagation and variational message passing schemes (including both mean-field and structured factorisations). The full list of built-in pipelines is presented below:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.DefaultFunctionalDependencies" href="#ReactiveMP.DefaultFunctionalDependencies"><code>ReactiveMP.DefaultFunctionalDependencies</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DefaultFunctionalDependencies</code></pre><p>This pipeline translates directly to enforcing a variational message passing scheme. In order to compute a message out of some edge, this pipeline requires messages from edges within the same edge-cluster and marginals over other edge-clusters.</p><p>See also: <a href="#ReactiveMP.RequireMessageFunctionalDependencies"><code>ReactiveMP.RequireMessageFunctionalDependencies</code></a>, <a href="#ReactiveMP.RequireMarginalFunctionalDependencies"><code>ReactiveMP.RequireMarginalFunctionalDependencies</code></a>, <a href="#ReactiveMP.RequireEverythingFunctionalDependencies"><code>ReactiveMP.RequireEverythingFunctionalDependencies</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/biaslab/ReactiveMP.jl/blob/6cff9c77ca9bf55a0791c6c77ad7f4f79165f702/src/node.jl#L622-L629">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.RequireMessageFunctionalDependencies" href="#ReactiveMP.RequireMessageFunctionalDependencies"><code>ReactiveMP.RequireMessageFunctionalDependencies</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">RequireMessageFunctionalDependencies(indices::Tuple, start_with::Tuple)</code></pre><p>The same as <code>DefaultFunctionalDependencies</code>, but in order to compute a message out of some edge also requires the inbound message on the this edge.</p><p><strong>Arguments</strong></p><ul><li><code>indices</code>::Tuple, tuple of integers, which indicates what edges should require inbound messages</li><li><code>start_with::Tuple</code>, tuple of <code>nothing</code> or <code>&lt;:Distribution</code>, which specifies the initial inbound messages for edges in <code>indices</code></li></ul><p>Note: <code>start_with</code> uses <code>setmessage!</code> mechanism, hence, it can be visible by other listeners on the same edge. Explicit call to <code>setmessage!</code> overwrites whatever has been passed in <code>start_with</code>.</p><p><code>@model</code> macro accepts a simplified construction of this pipeline:</p><pre><code class="language-julia hljs">@model function some_model()
    # ...
    y ~ NormalMeanVariance(x, τ) where {
        pipeline = RequireMessage(x = vague(NormalMeanPrecision),     τ)
                                  # ^^^                               ^^^
                                  # request &#39;inbound&#39; for &#39;x&#39;         we may do the same for &#39;τ&#39;,
                                  # and initialise with `vague(...)`  but here we skip initialisation
    }
    # ...
end</code></pre><p>Deprecation warning: <code>RequireInboundFunctionalDependencies</code> has been deprecated in favor of <code>RequireMessageFunctionalDependencies</code>.</p><p>See also: <a href="#ReactiveMP.DefaultFunctionalDependencies"><code>ReactiveMP.DefaultFunctionalDependencies</code></a>, <a href="#ReactiveMP.RequireMarginalFunctionalDependencies"><code>ReactiveMP.RequireMarginalFunctionalDependencies</code></a>, <a href="#ReactiveMP.RequireEverythingFunctionalDependencies"><code>ReactiveMP.RequireEverythingFunctionalDependencies</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/biaslab/ReactiveMP.jl/blob/6cff9c77ca9bf55a0791c6c77ad7f4f79165f702/src/node.jl#L645-L675">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.RequireMarginalFunctionalDependencies" href="#ReactiveMP.RequireMarginalFunctionalDependencies"><code>ReactiveMP.RequireMarginalFunctionalDependencies</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">RequireMarginalFunctionalDependencies(indices::Tuple, start_with::Tuple)</code></pre><p>Similar to <code>DefaultFunctionalDependencies</code>, but in order to compute a message out of some edge also requires the posterior marginal on that edge.</p><p><strong>Arguments</strong></p><ul><li><code>indices</code>::Tuple, tuple of integers, which indicates what edges should require their own marginals</li><li><code>start_with::Tuple</code>, tuple of <code>nothing</code> or <code>&lt;:Distribution</code>, which specifies the initial marginal for edges in <code>indices</code></li></ul><p>Note: <code>start_with</code> uses the <code>setmarginal!</code> mechanism, hence it can be visible to other listeners on the same edge. Explicit calls to <code>setmarginal!</code> overwrites whatever has been passed in <code>start_with</code>.</p><p><code>@model</code> macro accepts a simplified construction of this pipeline:</p><pre><code class="language-julia hljs">@model function some_model()
    # ...
    y ~ NormalMeanVariance(x, τ) where {
        pipeline = RequireMarginal(x = vague(NormalMeanPrecision),     τ)
                                   # ^^^                               ^^^
                                   # request &#39;marginal&#39; for &#39;x&#39;        we may do the same for &#39;τ&#39;,
                                   # and initialise with `vague(...)`  but here we skip initialisation
    }
    # ...
end</code></pre><p>Note: The simplified construction in <code>@model</code> macro syntax is only available in <code>GraphPPL.jl</code> of version <code>&gt;2.2.0</code>.</p><p>See also: <a href="#ReactiveMP.DefaultFunctionalDependencies"><code>ReactiveMP.DefaultFunctionalDependencies</code></a>, <a href="#ReactiveMP.RequireMessageFunctionalDependencies"><code>ReactiveMP.RequireMessageFunctionalDependencies</code></a>, <a href="#ReactiveMP.RequireEverythingFunctionalDependencies"><code>ReactiveMP.RequireEverythingFunctionalDependencies</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/biaslab/ReactiveMP.jl/blob/6cff9c77ca9bf55a0791c6c77ad7f4f79165f702/src/node.jl#L709-L739">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.RequireEverythingFunctionalDependencies" href="#ReactiveMP.RequireEverythingFunctionalDependencies"><code>ReactiveMP.RequireEverythingFunctionalDependencies</code></a> — <span class="docstring-category">Type</span></header><section><div><p>RequireEverythingFunctionalDependencies</p><p>This pipeline specifies that in order to compute a message of some edge update rules request everything that is available locally. This includes all inbound messages (including on the same edge) and marginals over all local edge-clusters (this may or may not include marginals on single edges, depends on the local factorisation constraint).</p><p>See also: <a href="#ReactiveMP.DefaultFunctionalDependencies"><code>DefaultFunctionalDependencies</code></a>, <a href="#ReactiveMP.RequireMessageFunctionalDependencies"><code>RequireMessageFunctionalDependencies</code></a>, <a href="#ReactiveMP.RequireMarginalFunctionalDependencies"><code>RequireMarginalFunctionalDependencies</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/biaslab/ReactiveMP.jl/blob/6cff9c77ca9bf55a0791c6c77ad7f4f79165f702/src/node.jl#L774-L781">source</a></section></article><h2 id="lib-node-traits"><a class="docs-heading-anchor" href="#lib-node-traits">Node traits</a><a id="lib-node-traits-1"></a><a class="docs-heading-anchor-permalink" href="#lib-node-traits" title="Permalink"></a></h2><p>Each factor node has to define the <a href="#ReactiveMP.as_node_functional_form"><code>ReactiveMP.as_node_functional_form</code></a> trait function and to specify a <a href="#ReactiveMP.ValidNodeFunctionalForm"><code>ReactiveMP.ValidNodeFunctionalForm</code></a>  singleton as a return object. By default <a href="#ReactiveMP.as_node_functional_form"><code>ReactiveMP.as_node_functional_form</code></a> returns <a href="#ReactiveMP.UndefinedNodeFunctionalForm"><code>ReactiveMP.UndefinedNodeFunctionalForm</code></a>.  Objects that do not specify this property correctly cannot be used in model specification.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p><code>@node</code> macro does that automatically</p></div></div><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.ValidNodeFunctionalForm" href="#ReactiveMP.ValidNodeFunctionalForm"><code>ReactiveMP.ValidNodeFunctionalForm</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ValidNodeFunctionalForm</code></pre><p>Trait specification for an object that can be used in model specification as a factor node.</p><p>See also: <a href="#ReactiveMP.as_node_functional_form"><code>ReactiveMP.as_node_functional_form</code></a>, <a href="#ReactiveMP.UndefinedNodeFunctionalForm"><code>ReactiveMP.UndefinedNodeFunctionalForm</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/biaslab/ReactiveMP.jl/blob/6cff9c77ca9bf55a0791c6c77ad7f4f79165f702/src/node.jl#L19-L25">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.UndefinedNodeFunctionalForm" href="#ReactiveMP.UndefinedNodeFunctionalForm"><code>ReactiveMP.UndefinedNodeFunctionalForm</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">UndefinedNodeFunctionalForm</code></pre><p>Trait specification for an object that can <strong>not</strong> be used in model specification as a factor node.</p><p>See also: <a href="#ReactiveMP.as_node_functional_form"><code>ReactiveMP.as_node_functional_form</code></a>, <a href="#ReactiveMP.ValidNodeFunctionalForm"><code>ReactiveMP.ValidNodeFunctionalForm</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/biaslab/ReactiveMP.jl/blob/6cff9c77ca9bf55a0791c6c77ad7f4f79165f702/src/node.jl#L28-L34">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.as_node_functional_form" href="#ReactiveMP.as_node_functional_form"><code>ReactiveMP.as_node_functional_form</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">as_node_functional_form(object)</code></pre><p>Determines <code>object</code> node functional form trait specification. Returns either <code>ValidNodeFunctionalForm()</code> or <code>UndefinedNodeFunctionalForm()</code>.</p><p>See also: <a href="#ReactiveMP.ValidNodeFunctionalForm"><code>ReactiveMP.ValidNodeFunctionalForm</code></a>, <a href="#ReactiveMP.UndefinedNodeFunctionalForm"><code>ReactiveMP.UndefinedNodeFunctionalForm</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/biaslab/ReactiveMP.jl/blob/6cff9c77ca9bf55a0791c6c77ad7f4f79165f702/src/node.jl#L37-L44">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../message/">« Messages</a><a class="docs-footer-nextpage" href="../flow/">Flow »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Wednesday 1 November 2023 09:28">Wednesday 1 November 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
