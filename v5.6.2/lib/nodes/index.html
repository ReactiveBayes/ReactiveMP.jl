<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Factor nodes · ReactiveMP.jl</title><meta name="title" content="Factor nodes · ReactiveMP.jl"/><meta property="og:title" content="Factor nodes · ReactiveMP.jl"/><meta property="twitter:title" content="Factor nodes · ReactiveMP.jl"/><meta name="description" content="Documentation for ReactiveMP.jl."/><meta property="og:description" content="Documentation for ReactiveMP.jl."/><meta property="twitter:description" content="Documentation for ReactiveMP.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">ReactiveMP.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><span class="tocitem">Library</span><ul><li class="is-active"><a class="tocitem" href>Factor nodes</a><ul class="internal"><li><a class="tocitem" href="#lib-custom-node"><span>Adding a custom node</span></a></li><li><a class="tocitem" href="#lib-node-types"><span>Node types</span></a></li><li><a class="tocitem" href="#lib-node-functional-dependencies-pipeline"><span>Node functional dependencies pipeline</span></a></li><li><a class="tocitem" href="#lib-node-functional-dependencies-pipelines"><span>List of functional dependencies pipelines</span></a></li><li><a class="tocitem" href="#lib-node-metadata-dependencies"><span>Customizing Dependencies with Metadata</span></a></li><li><a class="tocitem" href="#lib-node-traits"><span>Node traits</span></a></li><li><a class="tocitem" href="#lib-node-pipelines"><span>Node pipelines</span></a></li><li><a class="tocitem" href="#lib-predefined-nodes"><span>List of predefined factor node</span></a></li></ul></li><li><a class="tocitem" href="../message/">Messages</a></li><li><a class="tocitem" href="../marginal/">Marginals</a></li><li><a class="tocitem" href="../rules/">Message update rules</a></li><li><a class="tocitem" href="../helpers/">Helper utils</a></li><li><a class="tocitem" href="../algebra/">Algebra utils</a></li><li><input class="collapse-toggle" id="menuitem-2-7" type="checkbox"/><label class="tocitem" for="menuitem-2-7"><span class="docs-label">Specific factor nodes</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="delta/">Delta</a></li><li><a class="tocitem" href="flow/">Flow</a></li><li><a class="tocitem" href="bifm/">BIFM</a></li><li><a class="tocitem" href="logical/">Logical</a></li><li><a class="tocitem" href="discrete_transition/">Discrete Transition</a></li><li><a class="tocitem" href="ctransition/">Continuous transition</a></li><li><a class="tocitem" href="ar/">Autoregressive</a></li><li><a class="tocitem" href="binomial_polya/">BinomialPolya</a></li><li><a class="tocitem" href="multinomial_polya/">MultinomialPolya</a></li></ul></li></ul></li><li><span class="tocitem">Custom functionality</span><ul><li><a class="tocitem" href="../../custom/custom-functional-form/">Custom functional form</a></li><li><a class="tocitem" href="../../custom/custom-addons/">Custom addons</a></li></ul></li><li><span class="tocitem">Extra</span><ul><li><a class="tocitem" href="../../extra/contributing/">Contributing</a></li><li><a class="tocitem" href="../../extra/extensions/">Extensions</a></li><li><a class="tocitem" href="../../extra/methods/">Exported methods</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Library</a></li><li class="is-active"><a href>Factor nodes</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Factor nodes</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ReactiveBayes/ReactiveMP.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/main/docs/src/lib/nodes.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="lib-node"><a class="docs-heading-anchor" href="#lib-node">Nodes implementation</a><a id="lib-node-1"></a><a class="docs-heading-anchor-permalink" href="#lib-node" title="Permalink"></a></h1><p>In the message passing framework, one of the most important concepts is a factor node. A factor node represents a local function in a factorised representation of a generative model.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.@node" href="#ReactiveMP.@node"><code>ReactiveMP.@node</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@node(fformtype, sdtype, interfaces_list)</code></pre><p><code>@node</code> macro creates a node for a <code>fformtype</code> type object. To obtain a list of predefined nodes use <code>?is_predefined_node</code>.</p><p><strong>Arguments</strong></p><ul><li><code>fformtype</code>: Either an existing type identifier, e.g. <code>Normal</code> or a function type identifier, e.g. <code>typeof(+)</code></li><li><code>sdtype</code>: Either <code>Stochastic</code> or <code>Deterministic</code>. Defines the type of the functional relationship</li><li><code>interfaces_list</code>: Defines a fixed list of edges of a factor node, by convention the first element should be <code>out</code>. Example: <code>[ out, mean, variance ]</code></li></ul><p>Note: <code>interfaces_list</code> must not include names that contain <code>_</code> symbol in them, as it is reserved to identify joint posteriors around the node object.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">
struct MyNormalDistribution
    mean :: Float64
    var  :: Float64
end

@node MyNormalDistribution Stochastic [ out, mean, var ]</code></pre><pre><code class="language-julia hljs">
@node typeof(+) Deterministic [ out, in1, in2 ]</code></pre><p><strong>List of available nodes</strong></p><p>See <code>?is_predefined_node</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/nodes.jl#L409-L442">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.FactorNode" href="#ReactiveMP.FactorNode"><code>ReactiveMP.FactorNode</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">GenericFactorNode(functionalform, interfaces)</code></pre><p>Generic factor node object that represents a factor node with a given <code>functionalform</code> and <code>interfaces</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/nodes.jl#L170-L174">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.FactorNodeLocalMarginal" href="#ReactiveMP.FactorNodeLocalMarginal"><code>ReactiveMP.FactorNodeLocalMarginal</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FactorNodeLocalMarginal</code></pre><p>This object represents local marginals for some specific factor node. The local marginal can be joint in case of structured factorisation. Local to factor node marginal also can be shared with a corresponding marginal of some random variable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/clusters.jl#L2-L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.NodeInterface" href="#ReactiveMP.NodeInterface"><code>ReactiveMP.NodeInterface</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">NodeInterface</code></pre><p><code>NodeInterface</code> object represents a single node-variable connection.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/interfaces.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.IndexedNodeInterface" href="#ReactiveMP.IndexedNodeInterface"><code>ReactiveMP.IndexedNodeInterface</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">IndexedNodeInterface</code></pre><p><code>IndexedNodeInterface</code> object represents a repetative node-variable connection. Used in cases when a node may connect to a different number of random variables with the same name, e.g. means and precisions of a Gaussian Mixture node.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/interfaces.jl#L66-L71">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.messagein" href="#ReactiveMP.messagein"><code>ReactiveMP.messagein</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">messagein(interface)</code></pre><p>Returns an inbound messages stream from the given interface.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/interfaces.jl#L52-L56">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.messageout" href="#ReactiveMP.messageout"><code>ReactiveMP.messageout</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">messageout(interface)</code></pre><p>Returns an outbound messages stream from the given interface.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/interfaces.jl#L45-L49">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.tag" href="#ReactiveMP.tag"><code>ReactiveMP.tag</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">tag(interface)</code></pre><p>Returns a tag of the interface in the form of <code>Val{ name(interface) }</code>. The major difference between tag and name is that it is possible to dispath on interface&#39;s tag in message computation rule.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/interfaces.jl#L37-L42">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.name" href="#ReactiveMP.name"><code>ReactiveMP.name</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">name(interface)</code></pre><p>Returns a name of the interface.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/interfaces.jl#L29-L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.interfaces" href="#ReactiveMP.interfaces"><code>ReactiveMP.interfaces</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">interfaces(fform)</code></pre><p>Returns a <code>Val</code> object with a tuple of interface names for a given factor node type. Returns <code>nothing</code> for unknown functional form.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/nodes.jl#L274-L278">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.getvariable" href="#ReactiveMP.getvariable"><code>ReactiveMP.getvariable</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getvariable(interface)</code></pre><p>Returns a variable connected to the given interface.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/interfaces.jl#L59-L63">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.inputinterfaces" href="#ReactiveMP.inputinterfaces"><code>ReactiveMP.inputinterfaces</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">inputinterfaces(fform)</code></pre><p>Similar to <code>interfaces</code>, but returns a <code>Val</code> object with a tuple of <strong>input</strong> interface names for a given factor node type. Returns <code>nothing</code> for unknown functional form.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/nodes.jl#L281-L285">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.alias_interface" href="#ReactiveMP.alias_interface"><code>ReactiveMP.alias_interface</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">alias_interface(factor_type, index, name)</code></pre><p>Converts the given <code>name</code> to a correct interface name for a given factor node type and index.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/nodes.jl#L288-L292">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.collect_factorisation" href="#ReactiveMP.collect_factorisation"><code>ReactiveMP.collect_factorisation</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">collect_factorisation(nodetype, factorisation)</code></pre><p>This function converts given factorisation to a correct internal factorisation representation for a given node.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/nodes.jl#L132-L136">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.collect_pipeline" href="#ReactiveMP.collect_pipeline"><code>ReactiveMP.collect_pipeline</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">collect_pipeline(nodetype, pipeline)</code></pre><p>This function converts given pipeline to a correct internal pipeline representation for a factor given node.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/pipeline/pipeline.jl#L57-L61">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.collect_meta" href="#ReactiveMP.collect_meta"><code>ReactiveMP.collect_meta</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">collect_meta(nodetype, meta)</code></pre><p>This function converts given meta object to a correct internal meta representation for a given node. Fallbacks to <code>default_meta</code> in case if meta is <code>nothing</code>.</p><p>See also: <a href="#ReactiveMP.default_meta"><code>default_meta</code></a>, <a href="#ReactiveMP.FactorNode"><code>FactorNode</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/nodes.jl#L139-L146">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.default_meta" href="#ReactiveMP.default_meta"><code>ReactiveMP.default_meta</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">default_meta(nodetype)</code></pre><p>Returns default meta object for a given node type.</p><p>See also: <a href="#ReactiveMP.collect_meta"><code>collect_meta</code></a>, <a href="#ReactiveMP.FactorNode"><code>FactorNode</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/nodes.jl#L152-L158">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.as_node_symbol" href="#ReactiveMP.as_node_symbol"><code>ReactiveMP.as_node_symbol</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">as_node_symbol(type)</code></pre><p>Returns a symbol associated with a node <code>type</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/nodes.jl#L123-L127">source</a></section></article><h2 id="lib-custom-node"><a class="docs-heading-anchor" href="#lib-custom-node">Adding a custom node</a><a id="lib-custom-node-1"></a><a class="docs-heading-anchor-permalink" href="#lib-custom-node" title="Permalink"></a></h2><p><code>ReactiveMP.jl</code> exports the <a href="#ReactiveMP.@node"><code>@node</code></a> macro that allows for quick definition of a factor node with a <strong>fixed</strong> number of edges. The example application can be the following:</p><pre><code class="language-julia hljs">struct MyNewCustomNode end

@node MyNewCustomNode   Stochastic         [ x, y, (z, aliases = [ d ] ) ]
#     ^^^^^^^^^^^^^^^   ^^^^^^^^^^^^^      ^^^^^^^^^^^
#     Node&#39;s tag/name   Node&#39;s type        A fixed set of edges
#                       Another possible   The very first edge (in this example `x`) is considered
#                       value is           to be the output of the node
#                       `Deterministic`    - Edges can have aliases, e.g. `z` can be both `z` or `d`</code></pre><p>This expression registers a new node that can be used with the inference engine.  Note, however, that the <code>@node</code> macro does not generate any message passing update rules. These must be defined using the <a href="../rules/#ReactiveMP.@rule"><code>@rule</code></a> macro. </p><h2 id="lib-node-types"><a class="docs-heading-anchor" href="#lib-node-types">Node types</a><a id="lib-node-types-1"></a><a class="docs-heading-anchor-permalink" href="#lib-node-types" title="Permalink"></a></h2><p>We distinguish different types of factor nodes in order to have better control over Bethe Free Energy computation. Each factor node has either the <a href="#ReactiveMP.Deterministic"><code>Deterministic</code></a> or <a href="#ReactiveMP.Stochastic"><code>Stochastic</code></a> functional form type.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.Deterministic" href="#ReactiveMP.Deterministic"><code>ReactiveMP.Deterministic</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Deterministic</code></pre><p><code>Deterministic</code> object used to parametrize factor node object with determinstic type of relationship between variables.</p><p>See also: <a href="#ReactiveMP.Stochastic"><code>Stochastic</code></a>, <a href="#ReactiveMP.isdeterministic"><code>isdeterministic</code></a>, <a href="#ReactiveMP.isstochastic"><code>isstochastic</code></a>, <a href="#ReactiveMP.sdtype"><code>sdtype</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/nodes.jl#L53-L59">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.Stochastic" href="#ReactiveMP.Stochastic"><code>ReactiveMP.Stochastic</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Stochastic</code></pre><p><code>Stochastic</code> object used to parametrize factor node object with stochastic type of relationship between variables.</p><p>See also: <a href="#ReactiveMP.Deterministic"><code>Deterministic</code></a>, <a href="#ReactiveMP.isdeterministic"><code>isdeterministic</code></a>, <a href="#ReactiveMP.isstochastic"><code>isstochastic</code></a>, <a href="#ReactiveMP.sdtype"><code>sdtype</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/nodes.jl#L62-L68">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.isdeterministic" href="#ReactiveMP.isdeterministic"><code>ReactiveMP.isdeterministic</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">isdeterministic(node)</code></pre><p>Function used to check if factor node object is deterministic or not. Returns true or false.</p><p>See also: <a href="#ReactiveMP.Deterministic"><code>Deterministic</code></a>, <a href="#ReactiveMP.Stochastic"><code>Stochastic</code></a>, <a href="#ReactiveMP.isstochastic"><code>isstochastic</code></a>, <a href="#ReactiveMP.sdtype"><code>sdtype</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/nodes.jl#L71-L77">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.isstochastic" href="#ReactiveMP.isstochastic"><code>ReactiveMP.isstochastic</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">isstochastic(node)</code></pre><p>Function used to check if factor node object is stochastic or not. Returns true or false.</p><p>See also: <a href="#ReactiveMP.Deterministic"><code>Deterministic</code></a>, <a href="#ReactiveMP.Stochastic"><code>Stochastic</code></a>, <a href="#ReactiveMP.isdeterministic"><code>isdeterministic</code></a>, <a href="#ReactiveMP.sdtype"><code>sdtype</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/nodes.jl#L80-L86">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.sdtype" href="#ReactiveMP.sdtype"><code>ReactiveMP.sdtype</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sdtype(object)</code></pre><p>Returns either <code>Deterministic</code> or <code>Stochastic</code> for a given object (if defined).</p><p>See also: <a href="#ReactiveMP.Deterministic"><code>Deterministic</code></a>, <a href="#ReactiveMP.Stochastic"><code>Stochastic</code></a>, <a href="#ReactiveMP.isdeterministic"><code>isdeterministic</code></a>, <a href="#ReactiveMP.isstochastic"><code>isstochastic</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/nodes.jl#L107-L113">source</a></section></article><p>For example the <code>+</code> node has the <a href="#ReactiveMP.Deterministic"><code>Deterministic</code></a> type:</p><pre><code class="language-julia hljs">println(&quot;Is `+` node deterministic: &quot;, isdeterministic(sdtype(+)))
println(&quot;Is `+` node stochastic: &quot;, isstochastic(sdtype(+)))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Is `+` node deterministic: true
Is `+` node stochastic: false</code></pre><p>On the other hand, the <code>Bernoulli</code> node has the <a href="#ReactiveMP.Stochastic"><code>Stochastic</code></a> type:</p><pre><code class="language-julia hljs">println(&quot;Is `Bernoulli` node deterministic: &quot;, isdeterministic(sdtype(Bernoulli)))
println(&quot;Is `Bernoulli` node stochastic: &quot;, isstochastic(sdtype(Bernoulli)))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Is `Bernoulli` node deterministic: false
Is `Bernoulli` node stochastic: true</code></pre><p>To get an actual instance of the type object we use <a href="#ReactiveMP.sdtype"><code>sdtype</code></a> function:</p><pre><code class="language-julia hljs">println(&quot;sdtype() of `+` node is &quot;, sdtype(+))
println(&quot;sdtype() of `Bernoulli` node is &quot;, sdtype(Bernoulli))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">sdtype() of `+` node is Deterministic()
sdtype() of `Bernoulli` node is Stochastic()</code></pre><h2 id="lib-node-functional-dependencies-pipeline"><a class="docs-heading-anchor" href="#lib-node-functional-dependencies-pipeline">Node functional dependencies pipeline</a><a id="lib-node-functional-dependencies-pipeline-1"></a><a class="docs-heading-anchor-permalink" href="#lib-node-functional-dependencies-pipeline" title="Permalink"></a></h2><p>The generic implementation of factor nodes in ReactiveMP supports custom functional dependency pipelines. Briefly, the <strong>functional dependencies pipeline</strong> defines what dependencies are need to compute a single message. As an example, consider the belief-propagation message update equation for a factor node <span>$f$</span> with three edges: <span>$x$</span>, <span>$y$</span> and <span>$z$</span>:</p><p class="math-container">\[\mu(x) = \int \mu(y) \mu(z) f(x, y, z) \mathrm{d}y \mathrm{d}z\]</p><p>Here we see that in the standard setting for the belief-propagation message out of edge <span>$x$</span>, we need only messages from the edges <span>$y$</span> and <span>$z$</span>. In contrast, consider the variational message update rule equation with mean-field assumption:</p><p class="math-container">\[\mu(x) = \exp \int q(y) q(z) \log f(x, y, z) \mathrm{d}y \mathrm{d}z\]</p><p>We see that in this setting, we do not need messages <span>$\mu(y)$</span> and <span>$\mu(z)$</span>, but only the marginals <span>$q(y)$</span> and <span>$q(z)$</span>. </p><h2 id="lib-node-functional-dependencies-pipelines"><a class="docs-heading-anchor" href="#lib-node-functional-dependencies-pipelines">List of functional dependencies pipelines</a><a id="lib-node-functional-dependencies-pipelines-1"></a><a class="docs-heading-anchor-permalink" href="#lib-node-functional-dependencies-pipelines" title="Permalink"></a></h2><p>The purpose of a <strong>functional dependencies pipeline</strong> is to determine functional dependencies (a set of messages or marginals) that are needed to compute a single message. By default, <code>ReactiveMP.jl</code> uses so-called <code>DefaultFunctionalDependencies</code> that correctly implements belief-propagation and variational message passing schemes (including both mean-field and structured factorisations). The full list of built-in pipelines is presented below:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.DefaultFunctionalDependencies" href="#ReactiveMP.DefaultFunctionalDependencies"><code>ReactiveMP.DefaultFunctionalDependencies</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DefaultFunctionalDependencies</code></pre><p>This functional dependencies translate directly to a regular variational message passing scheme.  In order to compute a message out of some interface, this strategy requires messages from interfaces within the same cluster and marginals over other clusters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/dependencies.jl#L56-L61">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.RequireMessageFunctionalDependencies" href="#ReactiveMP.RequireMessageFunctionalDependencies"><code>ReactiveMP.RequireMessageFunctionalDependencies</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RequireMessageFunctionalDependencies(specifications::NamedTuple)
RequireMessageFunctionalDependencies(; specifications...)</code></pre><p>The same as <code>DefaultFunctionalDependencies</code>, but in order to compute a message out of some edge also requires the inbound message on the this edge.</p><p>The specification parameter is a named tuple that contains the names of the edges and their initial messages.  When a name is present in the named tuple, that indicates that the computation of the outbound message on the same edge must use the inbound message. If <code>nothing</code> is passed as a value in the named tuple, the initial message is not set. Note that the construction allows passing keyword argument to the constructor  instead of using <code>NamedTuple</code> directly.</p><pre><code class="language-julia hljs">RequireMessageFunctionalDependencies(μ = vague(NormalMeanPrecision),     τ = nothing)
                                     # ^^^                               ^^^
                                     # request &#39;inbound&#39; for &#39;x&#39;         we may do the same for &#39;τ&#39;,
                                     # and initialise with `vague(...)`  but here we skip initialisation</code></pre><p>See also: <a href="#ReactiveMP.DefaultFunctionalDependencies"><code>ReactiveMP.DefaultFunctionalDependencies</code></a>, <a href="#ReactiveMP.RequireMarginalFunctionalDependencies"><code>ReactiveMP.RequireMarginalFunctionalDependencies</code></a>, <a href="#ReactiveMP.RequireEverythingFunctionalDependencies"><code>ReactiveMP.RequireEverythingFunctionalDependencies</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/dependencies.jl#L88-L107">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.RequireMarginalFunctionalDependencies" href="#ReactiveMP.RequireMarginalFunctionalDependencies"><code>ReactiveMP.RequireMarginalFunctionalDependencies</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RequireMarginalFunctionalDependencies(specifications::NamedTuple)
RequireMarginalFunctionalDependencies(; specifications...)</code></pre><p>The same as <code>DefaultFunctionalDependencies</code>, but in order to compute a message out of some edge also requires the marginal on the this edge.</p><p>The specification parameter is a named tuple that contains the names of the edges and their initial marginals.  When a name is present in the named tuple, that indicates that the computation of the outbound message on the same edge must use the marginal on this edge. If <code>nothing</code> is passed as a value in the named tuple, the initial marginal is not set. Note that the construction allows passing keyword argument to the constructor  instead of using <code>NamedTuple</code> directly.</p><pre><code class="language-julia hljs">RequireMarginalFunctionalDependencies(μ = vague(NormalMeanPrecision),     τ = nothing)
                                     # ^^^                               ^^^
                                     # request &#39;marginal&#39; for &#39;x&#39;        we may do the same for &#39;τ&#39;,
                                     # and initialise with `vague(...)`  but here we skip initialisation</code></pre><p>See also: <a href="#ReactiveMP.DefaultFunctionalDependencies"><code>ReactiveMP.DefaultFunctionalDependencies</code></a>, <a href="#ReactiveMP.RequireMessageFunctionalDependencies"><code>ReactiveMP.RequireMessageFunctionalDependencies</code></a>, <a href="#ReactiveMP.RequireEverythingFunctionalDependencies"><code>ReactiveMP.RequireEverythingFunctionalDependencies</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/dependencies.jl#L146-L165">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.RequireEverythingFunctionalDependencies" href="#ReactiveMP.RequireEverythingFunctionalDependencies"><code>ReactiveMP.RequireEverythingFunctionalDependencies</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>RequireEverythingFunctionalDependencies</p><p>This pipeline specifies that in order to compute a message of some edge update rules request everything that is available locally. This includes all inbound messages (including on the same edge) and marginals over all local edge-clusters (this may or may not include marginals on single edges, depends on the local factorisation constraint).</p><p>See also: <a href="#ReactiveMP.DefaultFunctionalDependencies"><code>DefaultFunctionalDependencies</code></a>, <a href="#ReactiveMP.RequireMessageFunctionalDependencies"><code>RequireMessageFunctionalDependencies</code></a>, <a href="#ReactiveMP.RequireMarginalFunctionalDependencies"><code>RequireMarginalFunctionalDependencies</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/dependencies.jl#L212-L219">source</a></section></article><h2 id="lib-node-metadata-dependencies"><a class="docs-heading-anchor" href="#lib-node-metadata-dependencies">Customizing Dependencies with Metadata</a><a id="lib-node-metadata-dependencies-1"></a><a class="docs-heading-anchor-permalink" href="#lib-node-metadata-dependencies" title="Permalink"></a></h2><p>The functional dependencies of a node can be customized at runtime using options during node activation. This allows for runtime customization of the functional dependencies, e.g. to test different message passing schemes or implement specialized behavior for specific instances of a node type:</p><pre><code class="language-julia hljs"># Define custom dependencies based on metadata
function ReactiveMP.collect_functional_dependencies(::Type{MyNode}, options::FactorNodeActivationOptions)
    if some_condition(options) # a user can specify dependencies based, for example, on metadata
        return CustomDependencies()
    end
    # Fall back to default dependencies
    return ReactiveMP.collect_functional_dependencies(MyNode, getdependecies(options))
end

# Use custom dependencies during activation
node = factornode(MyNode, ...)
activate!(node, FactorNodeActivationOptions(:custom_behavior, ...))</code></pre><p>This feature is particularly useful for testing different message passing schemes or implementing specialized behavior for specific instances of a node type.</p><h2 id="lib-node-traits"><a class="docs-heading-anchor" href="#lib-node-traits">Node traits</a><a id="lib-node-traits-1"></a><a class="docs-heading-anchor-permalink" href="#lib-node-traits" title="Permalink"></a></h2><p>Each factor node has to define the <a href="#ReactiveMP.is_predefined_node"><code>ReactiveMP.is_predefined_node</code></a> trait function and to specify a <a href="#ReactiveMP.PredefinedNodeFunctionalForm"><code>ReactiveMP.PredefinedNodeFunctionalForm</code></a>  singleton as a return object. By default <a href="#ReactiveMP.is_predefined_node"><code>ReactiveMP.is_predefined_node</code></a> returns <a href="#ReactiveMP.UndefinedNodeFunctionalForm"><code>ReactiveMP.UndefinedNodeFunctionalForm</code></a>.  Objects that do not specify this property correctly cannot be used in model specification.</p><div class="admonition is-info" id="Note-4b3292484dc3cac9"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-4b3292484dc3cac9" title="Permalink"></a></header><div class="admonition-body"><p><code>@node</code> macro does that automatically</p></div></div><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.PredefinedNodeFunctionalForm" href="#ReactiveMP.PredefinedNodeFunctionalForm"><code>ReactiveMP.PredefinedNodeFunctionalForm</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PredefinedNodeFunctionalForm</code></pre><p>Trait specification for an object that has been marked as a valid factor node with the <code>@node</code> macro.</p><p>See also: <a href="#ReactiveMP.is_predefined_node"><code>ReactiveMP.is_predefined_node</code></a>, <a href="#ReactiveMP.UndefinedNodeFunctionalForm"><code>ReactiveMP.UndefinedNodeFunctionalForm</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/nodes.jl#L18-L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.UndefinedNodeFunctionalForm" href="#ReactiveMP.UndefinedNodeFunctionalForm"><code>ReactiveMP.UndefinedNodeFunctionalForm</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">UndefinedNodeFunctionalForm</code></pre><p>Trait specification for an object that has <strong>not</strong> been marked as a factor node with the <code>@node</code> macro. Note that it does not necessarily mean that the object is not a valid factor node, but rather that it has not been marked as such. The ReactiveMP inference engine support arbitrary deterministic function as factor nodes, but they require manual specification of the approximation method.</p><p>See also: <a href="#ReactiveMP.is_predefined_node"><code>ReactiveMP.is_predefined_node</code></a>, <a href="#ReactiveMP.PredefinedNodeFunctionalForm"><code>ReactiveMP.PredefinedNodeFunctionalForm</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/nodes.jl#L27-L35">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.is_predefined_node" href="#ReactiveMP.is_predefined_node"><code>ReactiveMP.is_predefined_node</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">is_predefined_node(object)</code></pre><p>Determines if the <code>object</code> has been marked as a factor node with the <code>@node</code> macro. Returns either <code>PredefinedNodeFunctionalForm()</code> or <code>UndefinedNodeFunctionalForm()</code>.</p><p>See also: <a href="#ReactiveMP.PredefinedNodeFunctionalForm"><code>ReactiveMP.PredefinedNodeFunctionalForm</code></a>, <a href="#ReactiveMP.UndefinedNodeFunctionalForm"><code>ReactiveMP.UndefinedNodeFunctionalForm</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/nodes/nodes.jl#L38-L45">source</a></section></article><h2 id="lib-node-pipelines"><a class="docs-heading-anchor" href="#lib-node-pipelines">Node pipelines</a><a id="lib-node-pipelines-1"></a><a class="docs-heading-anchor-permalink" href="#lib-node-pipelines" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.AbstractPipelineStage" href="#ReactiveMP.AbstractPipelineStage"><code>ReactiveMP.AbstractPipelineStage</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractPipelineStage</code></pre><p>An abstract type for all custom pipelines stages</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/pipeline/pipeline.jl#L7-L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.apply_pipeline_stage" href="#ReactiveMP.apply_pipeline_stage"><code>ReactiveMP.apply_pipeline_stage</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">apply_pipeline_stage(stage, factornode, tag, stream)</code></pre><p>Applies a given pipeline stage to the <code>stream</code> argument given <code>factornode</code> and <code>tag</code> of an edge.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/pipeline/pipeline.jl#L14-L18">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.EmptyPipelineStage" href="#ReactiveMP.EmptyPipelineStage"><code>ReactiveMP.EmptyPipelineStage</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">EmptyPipelineStage &lt;: AbstractPipelineStage</code></pre><p>Dummy empty pipeline stage that does not modify the original pipeline.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/pipeline/pipeline.jl#L23-L27">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.CompositePipelineStage" href="#ReactiveMP.CompositePipelineStage"><code>ReactiveMP.CompositePipelineStage</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CompositePipelineStage{T} &lt;: AbstractPipelineStage</code></pre><p>Composite pipeline stage that consists of multiple inner pipeline stages </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/pipeline/pipeline.jl#L34-L38">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.LoggerPipelineStage" href="#ReactiveMP.LoggerPipelineStage"><code>ReactiveMP.LoggerPipelineStage</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LoggerPipelineStage &lt;: AbstractPipelineStage</code></pre><p>Logs all updates from <code>stream</code> into <code>output</code></p><p><strong>Arguments</strong></p><ul><li><code>output</code>: (optional), an output stream used to print log statements</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/pipeline/logger.jl#L3-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.DiscontinuePipelineStage" href="#ReactiveMP.DiscontinuePipelineStage"><code>ReactiveMP.DiscontinuePipelineStage</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DiscontinuePipelineStage &lt;: AbstractPipelineStage</code></pre><p>Applies the <code>discontinue()</code> operator from <code>Rocket.jl</code> library to the given pipeline</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/pipeline/discontinue.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.AsyncPipelineStage" href="#ReactiveMP.AsyncPipelineStage"><code>ReactiveMP.AsyncPipelineStage</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AsyncPipelineStage &lt;: AbstractPipelineStage</code></pre><p>Applies the <code>async()</code> operator from <code>Rocket.jl</code> library to the given pipeline</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/pipeline/async.jl#L5-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.ScheduleOnPipelineStage" href="#ReactiveMP.ScheduleOnPipelineStage"><code>ReactiveMP.ScheduleOnPipelineStage</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ScheduleOnPipelineStage{S} &lt;: AbstractPipelineStage</code></pre><p>Applies the <code>schedule_on()</code> operator from <code>Rocket.jl</code> library to the given pipeline with a provided <code>scheduler</code></p><p><strong>Arguments</strong></p><ul><li><code>scheduler</code>: scheduler to schedule updates on. Must be compatible with <code>Rocket.jl</code> library and <code>schedule_on()</code> operator.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/pipeline/scheduled.jl#L5-L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ReactiveMP.schedule_updates" href="#ReactiveMP.schedule_updates"><code>ReactiveMP.schedule_updates</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">schedule_updates(variables...; pipeline_stage = ScheduleOnPipelineStage(PendingScheduler()))</code></pre><p>Schedules posterior marginal updates for given variables using <code>stage</code>. By default creates <code>ScheduleOnPipelineStage</code> with <code>PendingScheduler()</code> from <code>Rocket.jl</code> library. Returns a scheduler with <code>release!</code> method available to release all scheduled updates.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ReactiveBayes/ReactiveMP.jl/blob/d13e945a3f575d92667ef46606aa04e164d70a3e/src/pipeline/scheduled.jl#L45-L50">source</a></section></article><h2 id="lib-predefined-nodes"><a class="docs-heading-anchor" href="#lib-predefined-nodes">List of predefined factor node</a><a id="lib-predefined-nodes-1"></a><a class="docs-heading-anchor-permalink" href="#lib-predefined-nodes" title="Permalink"></a></h2><p>To quickly check the list of all predefined factor nodes, call <code>?ReactiveMP.is_predefined_node</code> or <code>Base.doc(ReactiveMP.is_predefined_node)</code>.</p><pre><code class="nohighlight hljs">?ReactiveMP.is_predefined_node</code></pre><pre><code class="language-julia hljs">is_predefined_node(object)</code></pre><p>Determines if the <code>object</code> has been marked as a factor node with the <code>@node</code> macro. Returns either <code>PredefinedNodeFunctionalForm()</code> or <code>UndefinedNodeFunctionalForm()</code>.</p><p>See also: <a href="@ref"><code>ReactiveMP.PredefinedNodeFunctionalForm</code></a>, <a href="@ref"><code>ReactiveMP.UndefinedNodeFunctionalForm</code></a></p><pre><code class="language-julia hljs">Type{&lt;:Uninformative}          : Stochastic      : out</code></pre><p>The <code>Uninformative</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ out ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:Uniform}                : Stochastic      : out, a (or α, left), b (or β, right)</code></pre><p>The <code>Uniform</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ out, a (or α, left), b (or β, right) ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:NormalMeanVariance}     : Stochastic      : out, μ (or mean), v (or var)</code></pre><p>The <code>NormalMeanVariance</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ out, μ (or mean), v (or var) ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:NormalMeanPrecision}    : Stochastic      : out, μ (or mean), τ (or invcov, precision)</code></pre><p>The <code>NormalMeanPrecision</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ out, μ (or mean), τ (or invcov, precision) ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:MvNormalMeanCovariance} : Stochastic      : out, μ (or mean), Σ (or cov)</code></pre><p>The <code>MvNormalMeanCovariance</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ out, μ (or mean), Σ (or cov) ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:MvNormalMeanPrecision}  : Stochastic      : out, μ (or mean), Λ (or invcov, precision)</code></pre><p>The <code>MvNormalMeanPrecision</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ out, μ (or mean), Λ (or invcov, precision) ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:MvNormalMeanScalePrecision} : Stochastic      : out, μ (or mean), γ (or precision)</code></pre><p>The <code>MvNormalMeanScalePrecision</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ out, μ (or mean), γ (or precision) ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:MvNormalWeightedMeanPrecision} : Stochastic      : out, ξ (or xi, weightedmean), Λ (or invcov, precision)</code></pre><p>The <code>MvNormalWeightedMeanPrecision</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ out, ξ (or xi, weightedmean), Λ (or invcov, precision) ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:MvNormalMeanScaleMatrixPrecision} : Stochastic      : out, μ (or mean), γ (or scale), G (or matrix)</code></pre><p>The <code>MvNormalMeanScaleMatrixPrecision</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ out, μ (or mean), γ (or scale), G (or matrix) ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:Gamma}                  : Stochastic      : out, α (or shape), θ (or scale)</code></pre><p>The <code>Gamma</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ out, α (or shape), θ (or scale) ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:GammaInverse}           : Stochastic      : out, α (or shape), θ (or scale)</code></pre><p>The <code>GammaInverse</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ out, α (or shape), θ (or scale) ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:GammaShapeRate}         : Stochastic      : out, α (or a, shape), β (or b, rate)</code></pre><p>The <code>GammaShapeRate</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ out, α (or a, shape), β (or b, rate) ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:Beta}                   : Stochastic      : out, a (or α), b (or β)</code></pre><p>The <code>Beta</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ out, a (or α), b (or β) ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:Categorical}            : Stochastic      : out, p</code></pre><p>The <code>Categorical</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ out, p ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:Dirichlet}              : Stochastic      : out, a</code></pre><p>The <code>Dirichlet</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ out, a ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:DirichletCollection}    : Stochastic      : out, a</code></pre><p>The <code>DirichletCollection</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ out, a ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:Bernoulli}              : Stochastic      : out, p (or θ)</code></pre><p>The <code>Bernoulli</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ out, p (or θ) ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:GCV}                    : Stochastic      : y, x, z, κ, ω</code></pre><p>The <code>GCV</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ y, x, z, κ, ω ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:Wishart}                : Stochastic      : out, ν (or df), S (or scale)</code></pre><p>The <code>Wishart</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ out, ν (or df), S (or scale) ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:InverseWishart}         : Stochastic      : out, ν (or df), S (or scale, Ψ)</code></pre><p>The <code>InverseWishart</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ out, ν (or df), S (or scale, Ψ) ]</code> interfaces.</p><pre><code class="language-julia hljs">typeof(dot)                    : Deterministic   : out, in1, in2</code></pre><p>The <code>typeof(dot)</code> has been marked as a valid <code>Deterministic</code> factor node with the <code>@node</code> macro with <code>[ out, in1, in2 ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:softdot}                : Stochastic      : y, θ (or theta), x, γ (or gamma)</code></pre><p>The <code>softdot</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ y, θ (or theta), x, γ (or gamma) ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:AR}                     : Stochastic      : y (or out), x, θ, γ</code></pre><p>The <code>AR</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ y (or out), x, θ, γ ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:BIFM}                   : Deterministic   : out, in, zprev, znext</code></pre><p>The <code>BIFM</code> has been marked as a valid <code>Deterministic</code> factor node with the <code>@node</code> macro with <code>[ out, in, zprev, znext ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:BIFMHelper}             : Stochastic      : out, in</code></pre><p>The <code>BIFMHelper</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ out, in ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:Probit}                 : Stochastic      : out, in</code></pre><p>The <code>Probit</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ out, in ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:Poisson}                : Stochastic      : out, l (or λ)</code></pre><p>The <code>Poisson</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ out, l (or λ) ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:ContinuousTransition}   : Stochastic      : y, x, a, W</code></pre><p>The <code>ContinuousTransition</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ y, x, a, W ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:HalfNormal}             : Stochastic      : out, v (or var, σ²)</code></pre><p>The <code>HalfNormal</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ out, v (or var, σ²) ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:BinomialPolya}          : Stochastic      : y, x, n, β</code></pre><p>The <code>BinomialPolya</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ y, x, n, β ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:MultinomialPolya}       : Stochastic      : x, N, ψ</code></pre><p>The <code>MultinomialPolya</code> has been marked as a valid <code>Stochastic</code> factor node with the <code>@node</code> macro with <code>[ x, N, ψ ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:Flow}                   : Deterministic   : out, in</code></pre><p>The <code>Flow</code> has been marked as a valid <code>Deterministic</code> factor node with the <code>@node</code> macro with <code>[ out, in ]</code> interfaces.</p><pre><code class="language-julia hljs">typeof(+)                      : Deterministic   : out, in1, in2</code></pre><p>The <code>typeof(+)</code> has been marked as a valid <code>Deterministic</code> factor node with the <code>@node</code> macro with <code>[ out, in1, in2 ]</code> interfaces.</p><pre><code class="language-julia hljs">typeof(-)                      : Deterministic   : out, in1, in2</code></pre><p>The <code>typeof(-)</code> has been marked as a valid <code>Deterministic</code> factor node with the <code>@node</code> macro with <code>[ out, in1, in2 ]</code> interfaces.</p><pre><code class="language-julia hljs">typeof(*)                      : Deterministic   : out, A, in</code></pre><p>The <code>typeof(*)</code> has been marked as a valid <code>Deterministic</code> factor node with the <code>@node</code> macro with <code>[ out, A, in ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:AND}                    : Deterministic   : out, in1, in2</code></pre><p>The <code>AND</code> has been marked as a valid <code>Deterministic</code> factor node with the <code>@node</code> macro with <code>[ out, in1, in2 ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:OR}                     : Deterministic   : out, in1, in2</code></pre><p>The <code>OR</code> has been marked as a valid <code>Deterministic</code> factor node with the <code>@node</code> macro with <code>[ out, in1, in2 ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:NOT}                    : Deterministic   : out, in</code></pre><p>The <code>NOT</code> has been marked as a valid <code>Deterministic</code> factor node with the <code>@node</code> macro with <code>[ out, in ]</code> interfaces.</p><pre><code class="language-julia hljs">Type{&lt;:IMPLY}                  : Deterministic   : out, in1, in2</code></pre><p>The <code>IMPLY</code> has been marked as a valid <code>Deterministic</code> factor node with the <code>@node</code> macro with <code>[ out, in1, in2 ]</code> interfaces.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">« Introduction</a><a class="docs-footer-nextpage" href="../message/">Messages »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Tuesday 21 October 2025 13:33">Tuesday 21 October 2025</span>. Using Julia version 1.12.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
